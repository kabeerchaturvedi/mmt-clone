(this["webpackJsonpmmt-app"]=this["webpackJsonpmmt-app"]||[]).push([[0],{25:function(e,t,s){},32:function(e,t,s){},33:function(e,t,s){},36:function(e,t,s){"use strict";s.r(t);var a=s(1),c=s.n(a),n=s(19),i=s.n(n),l=(s(25),s(4)),r=s(2),o=s(0),j={display:"flex",padding:"20px ",position:"relative",alignItems:"center"},d=function(){var e=Object(r.f)(),t=JSON.parse(localStorage.getItem("bookingInfo"))||[],s=JSON.parse(localStorage.getItem("users"))||[],a=function(s,a){var c=t.map((function(e){return s.id===e.id?(s.status=a,s):e}));localStorage.setItem("bookingInfo",JSON.stringify(c)),e.push("/bookings")};return t.filter((function(e){var t;return(null===(t=e.ownerInfo)||void 0===t?void 0:t.id)===s.id})).map((function(e){return Object(o.jsx)("div",{style:j,children:Object(o.jsxs)("div",{className:"card border-success mb-3",style:{maxWidth:"25rem"},children:[Object(o.jsxs)("div",{className:"card-header bg-transparent ",children:[Object(o.jsx)("h3",{children:"Request Recieved"}),Object(o.jsxs)("h5",{children:["You have a booking by :",e.userInfo.username]})]}),Object(o.jsxs)("table",{children:[Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{children:"Dates"}),Object(o.jsx)("th",{children:"Guests"}),Object(o.jsx)("th",{children:"Booking amount"})]}),Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:"22-31 May"}),Object(o.jsx)("td",{children:"3 Guests"}),Object(o.jsx)("td",{children:e.bookingPrice})]})]}),Object(o.jsxs)("div",{className:"card-footer bg-transparent border-success",children:[Object(o.jsx)("button",{className:"btn btn-success",onClick:function(){return a(e,"approved")},children:"Approve"}),Object(o.jsx)("button",{className:"btn btn-danger ",onClick:function(){return a(e,"rejected")},children:"Reject"})]})]})})}))},b=s(9),m=s(6),h=s(11),O=s(37),x=(s(32),{name:"",location:"",price:"",rating:"",Image:""}),u=[{label:"Name",name:"name",type:"text"},{label:"Location",name:"location",type:"text"},{label:"Rating",name:"rating",type:"number"},{label:"Price",name:"price",type:"number"},{label:"Image",name:"Image",type:"string"}],p=function(){var e=Object(a.useState)(x),t=Object(h.a)(e,2),s=t[0],c=t[1],n=function(e){c(Object(m.a)(Object(m.a)({},s),{},Object(b.a)({},e.target.name,e.target.value)))};return Object(o.jsx)("div",{className:"container",children:Object(o.jsxs)("form",{className:"form",onSubmit:function(e){e.preventDefault();var t=JSON.parse(localStorage.getItem("allVillas"))||[],a=JSON.parse(localStorage.getItem("userDetails"))||[];t.push(Object(m.a)(Object(m.a)({},s),{},{id:Object(O.a)(),ownerInfo:a})),localStorage.setItem("allVillas",JSON.stringify(t)),c(x)},children:[Object(o.jsx)("h3",{children:"Post your Villa details"}),u.map((function(e){var t=e.label,a=e.name,c=e.type;return Object(o.jsxs)("div",{children:[Object(o.jsxs)("p",{children:[t," "]}),Object(o.jsx)("input",{type:c,name:a,value:s[a],onChange:n})]})})),Object(o.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Save Villa"})]})})},g=(s(33),{width:"290px",flexShrink:"0",borderRadius:"4px 4px 0 0",position:"relative",marginBottom:"5px",maxWidth:"540px"});var v=function(){var e=JSON.parse(localStorage.getItem("allVillas"))||[],t=JSON.parse(localStorage.getItem("userDetails"))||[],s=JSON.parse(localStorage.getItem("userDetails")),a=Object(r.f)();return Object(o.jsx)("div",{children:Object(o.jsx)("div",{children:e.filter((function(e){var s;return"object"===typeof e.ownerInfo&&(null===(s=e.ownerInfo)||void 0===s?void 0:s.id)!==t.id})).map((function(e){var t=Math.floor(10*Math.random()),c=e.price*t*.01,n=e.price-c,i=n+.18*n;return Object(o.jsxs)("div",{className:"main-div",children:[Object(o.jsx)("div",{className:"img-div",children:Object(o.jsx)("img",{src:e.Image,style:g,alt:"img"})}),Object(o.jsxs)("div",{className:"info-div",children:[Object(o.jsx)("div",{className:"info-imgs",children:Object(o.jsx)("img",{src:"https://imgak.mmtcdn.com/pwa_v3/pwa_hotel_assets/web/mmtAssured.png",className:"img-mmt",alt:"img"})}),Object(o.jsxs)("div",{className:"header",children:[e.name,Object(o.jsx)("br",{}),Object(o.jsxs)("div",{className:"head-rating",children:[" ",e.rating,"\u2b50"]})]}),Object(o.jsxs)("div",{className:"main",children:[e.location,Object(o.jsx)("br",{}),Object(o.jsx)("br",{}),Object(o.jsx)("div",{className:"category",children:"Couple Friendly"})]}),Object(o.jsxs)("div",{className:"footer",children:[Object(o.jsx)("div",{className:"footer1",children:" \ud83d\udd0b Power Backup"}),Object(o.jsx)("div",{className:"footer2",children:" \ud83d\udcf6 Free Wifi"}),Object(o.jsx)("div",{className:"footer3",children:" \ud83c\udfe8 Restaurant"})]})]}),Object(o.jsxs)("div",{className:"sec-div",children:[Object(o.jsxs)("div",{className:"disc-perc",children:["FLAT ",t,"%"]}),Object(o.jsxs)("div",{className:"sec-price",children:["\u20b9 ",n]}),Object(o.jsxs)("div",{className:"disc-amt",children:["+ \u20b9 ",c," taxes & fees per Night"]}),Object(o.jsx)("div",{className:"sec-btn",children:Object(o.jsx)("button",{className:"btn-book",onClick:function(){return function(e,t){s?a.push("/booking-confirmations/".concat(e.id,"/").concat(t)):a.push("/login")}(e,i)},children:"Book Villa"})})]})]},e.id)}))})})},f=function(){var e=Object(a.useState)({email:"",password:""}),t=Object(h.a)(e,2),s=t[0],c=t[1],n=function(e){var t=e.target.name,a=e.target.value;c(Object(m.a)(Object(m.a)({},s),{},Object(b.a)({},t,a)))};return Object(o.jsx)("div",{className:"container",children:Object(o.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=(JSON.parse(localStorage.getItem("users"))||[]).find((function(e){return e.email===s.email&&e.password===s.password}));t?(localStorage.setItem("userDetails",JSON.stringify(t)),window.location.reload()):alert("Please check your credentials ")},className:"form",children:[Object(o.jsx)("h3",{children:"Login"}),Object(o.jsxs)("label",{children:[Object(o.jsx)("p",{children:"email"}),Object(o.jsx)("input",{type:"email",name:"email",id:"email",autoComplete:"off",value:s.email,onChange:n})]}),Object(o.jsxs)("label",{children:[Object(o.jsx)("p",{children:"Password"}),Object(o.jsx)("input",{type:"password",name:"password",id:"password",autoComplete:"off",value:s.password,onChange:n})]}),Object(o.jsx)("div",{children:Object(o.jsx)("button",{type:"submit",className:"btn btn-danger",children:"Submit"})})]})})},N={username:"",password:"",email:""},k=function(){var e=Object(a.useState)(N),t=Object(h.a)(e,2),s=t[0],c=t[1],n=function(e){var t=e.target.name,a=e.target.value;c(Object(m.a)(Object(m.a)({},s),{},Object(b.a)({},t,a)))};return Object(o.jsx)("div",{className:"container",children:Object(o.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=JSON.parse(localStorage.getItem("users"))||[];t.some((function(e){return e.email===s.email}))?alert("user exists!"):(t.push(Object(m.a)(Object(m.a)({},s),{},{id:Object(O.a)()})),localStorage.setItem("users",JSON.stringify(t)),alert("User registered successfully"),c(N))},className:"form",children:[Object(o.jsxs)("label",{children:[Object(o.jsx)("p",{children:"Username"}),Object(o.jsx)("input",{type:"text",autoComplete:"off",id:"username",name:"username",value:s.username,onChange:n})]}),Object(o.jsxs)("label",{children:[Object(o.jsx)("p",{children:"Password"}),Object(o.jsx)("input",{type:"password",autoComplete:"off",id:"password",name:"password",value:s.password,onChange:n})]}),Object(o.jsxs)("label",{children:[Object(o.jsx)("p",{children:"Email"}),Object(o.jsx)("input",{type:"email",autoComplete:"off",id:"email",name:"email",value:s.email,onChange:n})]}),Object(o.jsx)("div",{children:Object(o.jsx)("button",{type:"submit",className:"btn btn-success",children:"Submit"})})]})})},S={width:"113px",height:"36px",paddingLeft:"15px"},y=function(){var e=JSON.parse(localStorage.getItem("userDetails"));return Object(o.jsx)("div",{children:Object(o.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark ",children:[Object(o.jsx)("a",{className:"navbar-brand",children:Object(o.jsx)("img",{src:"https://imgak.mmtcdn.com/pwa_v3/pwa_hotel_assets/header/mmtLogoWhite.png",style:S})}),Object(o.jsxs)("div",{className:"collapse navbar-collapse",children:[e?Object(o.jsxs)("ul",{className:"navbar-nav mr-auto",children:[Object(o.jsx)("li",{className:"nav-item",children:Object(o.jsx)(l.b,{to:"/",className:"nav-link",children:"\ud83d\udd14 Notification"})}),Object(o.jsx)("li",{className:"nav-item",children:Object(o.jsx)(l.b,{to:"/bookings",className:"nav-link",children:"\ud83c\udfe0 Buy Villa"})}),Object(o.jsx)("li",{className:"nav-item",children:Object(o.jsx)(l.b,{to:"/booking-details",className:"nav-link",children:"\ud83c\udfe0 Host Villa"})}),Object(o.jsx)("li",{className:"nav-item",children:Object(o.jsx)(l.b,{to:"/your-bookings",className:"nav-link",children:"\ud83c\udfab Bookings"})})]}):Object(o.jsxs)("ul",{className:"navbar-nav mr-auto",children:[Object(o.jsx)("li",{className:"nav-item",children:Object(o.jsx)(l.b,{to:"/bookings",className:"nav-link",children:"\ud83c\udfe0 Buy Villa"})}),Object(o.jsx)("li",{className:"nav-item",children:Object(o.jsx)(l.b,{to:"/booking-details",className:"nav-link",children:"\ud83c\udfe0 Host Villa"})})]}),e?Object(o.jsxs)("ul",{className:"navbar-nav ms-auto mb-2 mb-lg-0",children:[Object(o.jsx)("li",{className:"nav-item",children:Object(o.jsx)(l.b,{to:"/logout",className:"nav-link",children:Object(o.jsx)("i",{class:"fas fa-sign-out-alt",children:"Logout"})})}),Object(o.jsx)("li",{className:"nav-item",children:Object(o.jsxs)("span",{className:"nav-link",children:["Hi! ",e.username]})})]}):Object(o.jsxs)("ul",{className:"navbar-nav ms-auto mb-2 mb-lg-0",children:[Object(o.jsx)("li",{className:"nav-item",children:Object(o.jsx)(l.b,{to:"/login",className:"nav-link",children:"\ud83d\udd12 Login"})}),Object(o.jsx)("li",{className:"nav-item",children:Object(o.jsxs)(l.b,{to:"/register",className:"nav-link",children:[Object(o.jsx)("i",{class:"fa fa-user-plus"}),"Register"]})})]})]})]})})};var I=function(){return Object(a.useEffect)((function(){window.localStorage.removeItem("userDetails"),window.location.reload()}),[]),Object(o.jsx)("div",{children:"null"})};var w=function(){var e=Object(r.g)(),t=e.hotelId,s=e.finalPriceWithTaxes,a=JSON.parse(localStorage.getItem("allVillas"))||[],c=JSON.parse(localStorage.getItem("userDetails"))||[],n=a.find((function(e){return e.id===t})),i=Object(r.f)();return Object(o.jsxs)("div",{children:[Object(o.jsx)("h3",{children:"Booking Request Details"}),Object(o.jsx)("div",{children:"Booking Request "}),Object(o.jsxs)("div",{children:[Object(o.jsxs)("table",{className:"table",children:[Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:"Property Name"}),Object(o.jsx)("td",{children:n.name})]}),Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:"Check-in"}),Object(o.jsx)("td",{children:"22 May"})]}),Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:"check-out"}),Object(o.jsx)("td",{children:"31 May"})]}),Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:"No. of Guests"}),Object(o.jsx)("td",{children:"2 Adults"})]}),Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:"Stay Duration"}),Object(o.jsx)("td",{children:"9 Nights"})]}),Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:"Meal Plan"}),Object(o.jsx)("td",{children:"Accomodation only"})]}),Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:"Payment Status"}),Object(o.jsx)("td",{children:"Paid"})]})]}),Object(o.jsx)("div",{children:Object(o.jsxs)("div",{children:[Object(o.jsx)("h3",{children:"Booking amount"}),Object(o.jsx)("h5",{children:s})]})}),Object(o.jsx)("div",{children:Object(o.jsx)("button",{className:"btn-success btn-sm",onClick:function(e){e.preventDefault();var t=JSON.parse(localStorage.getItem("bookings"))||[];t.push({hotelDetails:n,id:Object(O.a)(),bookingPrice:s,userInfo:c}),localStorage.setItem("bookingInfo",JSON.stringify(t)),i.push("/your-bookings")},children:"Confirm Booking"})})]})]})};var J=function(){var e=JSON.parse(localStorage.getItem("bookingInfo"))||[],t=JSON.parse(localStorage.getItem("userDetails"))||[];return e.filter((function(e){var s;return"object"===typeof e.userInfo&&(null===(s=e.userInfo)||void 0===s?void 0:s.id)===t.id})).map((function(e){return Object(o.jsx)("div",{children:Object(o.jsxs)("table",{className:"table",children:[Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{children:"Name"}),Object(o.jsx)("th",{children:"Location"}),Object(o.jsx)("th",{children:"Price of hotel: "}),Object(o.jsx)("th",{children:"Booking reference No:"}),Object(o.jsx)("th",{children:"Status"})]}),Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:e.hotelDetails.name}),Object(o.jsx)("td",{children:e.hotelDetails.location}),Object(o.jsx)("td",{children:e.bookingPrice}),Object(o.jsx)("td",{children:e.id}),Object(o.jsx)("td",{children:(null===e||void 0===e?void 0:e.status)||"pending"})]})]})})}))},C=function(){var e=JSON.parse(localStorage.getItem("userDetails"));return Object(o.jsx)("div",{children:e?Object(o.jsxs)(l.a,{children:[Object(o.jsx)(y,{}),Object(o.jsxs)(r.c,{children:[Object(o.jsx)(r.a,{exact:!0,path:"/",component:d}),Object(o.jsx)(r.a,{exact:!0,path:"/bookings",component:v}),Object(o.jsx)(r.a,{exact:!0,path:"/booking-details",component:p}),Object(o.jsx)(r.a,{exact:!0,path:"/booking-confirmations/:hotelId/:finalPriceWithTaxes",component:w}),Object(o.jsx)(r.a,{exact:!0,path:"/logout",component:I}),Object(o.jsx)(r.a,{exact:!0,path:"/your-bookings",component:J})]})]}):Object(o.jsxs)(l.a,{children:[Object(o.jsx)(y,{}),Object(o.jsxs)(r.c,{children:[Object(o.jsx)(r.a,{exact:!0,path:"/bookings",component:v}),Object(o.jsx)(r.a,{exact:!0,path:"/booking-details",component:p}),Object(o.jsx)(r.a,{exact:!0,path:"/login",component:f}),Object(o.jsx)(r.a,{exact:!0,path:"/register",component:k}),Object(o.jsx)(r.a,{exact:!0,path:"/booking-confirmations/:hotelId/:finalPriceWithTaxes",component:w})]})]})})},D=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,38)).then((function(t){var s=t.getCLS,a=t.getFID,c=t.getFCP,n=t.getLCP,i=t.getTTFB;s(e),a(e),c(e),n(e),i(e)}))};s(34),s(35);i.a.render(Object(o.jsx)(c.a.StrictMode,{children:Object(o.jsx)(C,{})}),document.getElementById("root")),D()}},[[36,1,2]]]);
//# sourceMappingURL=main.8ff59315.chunk.js.map